**姓名** 仇鑫

**日期** 2020/7/6 - 2020/7/12

------

### 本周已完成任务

1. 思考论文改进方案
4. 华为船运到达时间预测
4. 提取出xgboost的特征重要性

### 下周任务

1. 探索xgboost的可解释可行性

### 总结

本周除了准备华为的复赛，主要是提取XGBoost的特征重要性，XGBoost的特征重要性是通过对数据集中的每个特征进行计算，并进行排序得到。在单个决策树中通过每个特征分裂点改进性能度量的量来计算特征重要性，由节点负责加权和记录次数。也就说一个特征对分裂点改进性能度量越大（越靠近根节点），权值越大；被越多提升树所选择，特征越重要。性能度量可以是选择分裂节点的Gini纯度，也可以是其他度量函数。

最终将一个特征在所有提升树中的结果进行加权求和后然后平均，得到重要性得分。

特征重要性指标评估三种常用的方式：

①gain 增益意味着相应的特征对通过对模型中的每个树采取每个特征的贡献而计算出的模型的相对贡献。与其他特征相比，此度量值的较高值意味着它对于生成预测更为重要。

②cover 覆盖度量指的是与此功能相关的观测的相对数量。例如，如果有100个观察值，4个特征和3棵树，并且假设特征1分别用于决定树1，树2和树3中10个，5个和2个观察值的叶节点;那么该度量将计算此功能的覆盖范围为10 + 5 + 2 = 17个观测值。这将针对所有4项功能进行计算，并将以17个百分比表示所有功能的覆盖指标。

③freq 频率（频率）是表示特定特征在模型树中发生的相对次数的百分比。在上面的例子中，如果feature1发生在2个分裂中，1个分裂和3个分裂在每个树1，树2和树3中;那么特征1的权重将是2 + 1 + 3 = 6。特征1的频率被计算为其在所有特征的权重上的百分比权重。

这里简单实用了一个表格数据集进行尝试提取特征重要性，效果如图。

