**姓名** 仇鑫

**日期** 2019/12/16 - 2019/12/22

------

### 本周已完成任务

2. 修改采样的方法
2. 找出coverage低的原因
3. 整理实验结果
4. 思考实验方案

### 总结

单次采样这边加入了一个有效解释的控制，每次采样只选择预测正确的样本作为合理的解释，准确率可以达到75%，但实际上达到这个精度是因为验证集生成的解释只能对测试集中的4条结果进行解释。在随机采样的过程中，除去这种极端情况，另外的准确度71.75%，这个结果是对于131个样本进行解释得到的精度，这种情况看上去就要正常许多。

关于数据集为何coverage很低，进行了一些数据集的分析，将测试集的数据构建出集合，计算出词频，会发现高词频的与情感不太相关。以下例子，每一对是词和出现次数，数据集的大小为1821。

```
[('a', 1778), ('s', 1759), ('.', 1747), ('f', 1438), ('in', 1357), ('an', 1268), ('he', 1237), (',', 1001), ('at', 984), ('the', 977), ('it', 973), ('is', 966), ('or', 951), ('on', 921), ('and', 849), ('k', 833), ('to', 808), ('of', 763), ('me', 701), ("'", 657)]
```



参考anchor的做法，将anchors在验证集上得到的anchor采用sp算法获得验证集的解释进行计算coverage和precision。分析了coverage高的原因，会发现anchor存在得不到解释的情况，甚至把句号作为解释的情况，另外sp算法因为是贪心法，所以会选取出重复的解释，这一步为了生成出不同的解释，也做了一些控制，在剔除掉这种情况后又计算了coverage，这时候的coverage会到达93%，但是精度只有54%。但通过检查sp得到的解释会发现，以下是获得到的10个解释，也就是说按照anchors的方法选择高覆盖率的anchor其解释并不靠谱。

```
[['the'],['and'],['of'],['is'],['it'],['to'],['but'],['in'],['an'],
['for']]
```

下周考虑将多采样的方案进行完善，并把代码实现出来，另一方面，准备实现的穷举求出最优子树进行解释。